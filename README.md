# üöÄ Spring Boot MCP Server –¥–ª—è 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫

**–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π MCP (Model Context Protocol) —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫ API**

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.x-green.svg)](https://spring.io/projects/spring-boot)
[![Kotlin](https://img.shields.io/badge/Kotlin-1.9-blue.svg)](https://kotlinlang.org/)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED.svg)](https://www.docker.com/)
[![MCP](https://img.shields.io/badge/MCP-Protocol-orange.svg)](https://modelcontextprotocol.io/)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéØ **MCP Protocol Support**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ MCP –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏
- ü§ñ **1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫ Integration**: –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫ —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints
- ‚ö° **SSE Support**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Server-Sent Events –¥–ª—è real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- üåê **REST API**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ REST endpoints –¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- üìö **Swagger UI**: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- üê≥ **Docker Ready**: –ì–æ—Ç–æ–≤—ã–µ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Bearer —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫ API

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã MCP

### 1. `ask_1c_ai`
–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ò–ò 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫
- **question** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –í–æ–ø—Ä–æ—Å –¥–ª—è –ò–ò
- **programming_language** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **create_new_session** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é

### 2. `explain_1c_syntax`
–û–±—ä—è—Å–Ω–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —ç–ª–µ–º–µ–Ω—Ç–∞ 1–°
- **syntax_element** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –≠–ª–µ–º–µ–Ω—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
- **context** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 3. `check_1c_code`
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ 1–° –Ω–∞ –æ—à–∏–±–∫–∏
- **code** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): –ö–æ–¥ 1–° –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- **check_type** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –¢–∏–ø –ø—Ä–æ–≤–µ—Ä–∫–∏ (syntax, logic, performance)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 17+
- Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∫ 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫ API

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [code.1c.ai](https://code.1c.ai)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 2. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd spring-mcp-1c-copilot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export ONEC_AI_TOKEN="your_token_here"
export ONEC_AI_BASE_URL="https://code.1c.ai"

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./gradlew bootRun
```

### 3. Docker –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -f Dockerfile.build -t spring-mcp-1c-copilot .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -d --name spring-mcp-1c-copilot -p 8000:8000 \
  -e ONEC_AI_TOKEN="your_token_here" \
  spring-mcp-1c-copilot
```

## üì° API Endpoints

### MCP Endpoints
- `POST /mcp` - –û—Å–Ω–æ–≤–Ω–æ–π MCP endpoint –¥–ª—è JSON-RPC –∑–∞–ø—Ä–æ—Å–æ–≤
- `GET /mcp` - SSE stream –¥–ª—è MCP –∫–ª–∏–µ–Ω—Ç–æ–≤

### REST API Endpoints
- `POST /api/ask-ai` - –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ò–ò 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫
- `POST /api/explain-syntax` - –û–±—ä—è—Å–Ω–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å 1–°
- `POST /api/check-code` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ 1–° –Ω–∞ –æ—à–∏–±–∫–∏
- `GET /api/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `http://localhost:8000/swagger-ui.html` - Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `http://localhost:8000/api-docs` - OpenAPI JSON —Å—Ö–µ–º–∞

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `ONEC_AI_TOKEN` | –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∫ 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫ API | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** |
| `ONEC_AI_BASE_URL` | –ë–∞–∑–æ–≤—ã–π URL API | `https://code.1c.ai` |
| `ONEC_AI_TIMEOUT` | –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–µ–∫) | `30` |
| `SSE_PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | `8000` |

### application.yml

```yaml
onec:
  ai:
    token: ${ONEC_AI_TOKEN:}
    base-url: ${ONEC_AI_BASE_URL:https://code.1c.ai}
    timeout: ${ONEC_AI_TIMEOUT:30}

server:
  port: ${SSE_PORT:8000}

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Cursor IDE

–î–æ–±–∞–≤—å—Ç–µ –≤ `~/.cursor/mcp.json`:

```json
{
  "servers": {
    "1c-copilot-proxy": {
      "url": "http://localhost:8000/mcp"
    }
  }
}
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ Cursor IDE –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫!

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/main/kotlin/ru/alkoleft/copilot/
‚îú‚îÄ‚îÄ McpCopilotApplication.kt          # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ McpConfiguration.kt           # MCP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ OpenApiConfig.kt              # Swagger –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îú‚îÄ‚îÄ McpController.kt              # MCP –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ RestApiController.kt          # REST API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
‚îî‚îÄ‚îÄ service/
    ‚îú‚îÄ‚îÄ OneCApiClient.kt              # –ö–ª–∏–µ–Ω—Ç –¥–ª—è 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫ API
    ‚îî‚îÄ‚îÄ OneCCopilotService.kt         # –°–µ—Ä–≤–∏—Å —Å MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç MCP –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
```bash
curl -X POST http://localhost:8000/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": "1",
    "method": "initialize",
    "params": {
      "protocolVersion": "2025-06-18",
      "capabilities": {"tools": true}
    }
  }'
```

### –¢–µ—Å—Ç REST API
```bash
curl -X POST "http://localhost:8000/api/ask-ai?question=–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤ 1–°?"
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°–±–æ—Ä–∫–∞
```bash
./gradlew build
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
./gradlew test
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
./gradlew bootRun --args='--spring.profiles.active=dev'
```

## üìã –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker logs spring-mcp-1c-copilot --follow
```

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- `DEBUG` - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `INFO` - –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `WARN` - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `ERROR` - –û—à–∏–±–∫–∏

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–°–º. [DEPLOYMENT.md](DEPLOYMENT.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö.

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. [LICENSE](LICENSE) —Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [Issues](https://github.com/your-repo/issues)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker logs spring-mcp-1c-copilot`
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Issue —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

**üéâ –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Ä–∞–±–æ—Ç–æ–π —Å 1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫ —á–µ—Ä–µ–∑ MCP!**